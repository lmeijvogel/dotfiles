#!/bin/bash

MOUSE=`xinput --list | grep "Optical Mouse" | awk '// { match($0, /id=([0-9]+)/, m) ; print m[1] }'`

if [ "$MOUSE" != "" ]; then
  if [[ `xinput --get-button-map $MOUSE` =~ "1 2 3" ]]; then
    echo "Set mouse to left-handed"
    xinput --set-button-map $MOUSE 3 2 1
  else
    echo "Set mouse to right-handed"
    xinput --set-button-map $MOUSE 1 2 3
  fi
else
  echo "No mouse found"
fi

# vim:ft=bash
